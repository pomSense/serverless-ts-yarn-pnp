{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nconst utils = require('./utils.js');\nfunction validateMiddleware(schema, middleware) {\n  if (utils.isMiddlewareFunction(middleware)) {\n    return middleware;\n  }\n  const types = schema.getTypeMap();\n  Object.keys(middleware).forEach(type => {\n    if (!Object.keys(types).includes(type)) {\n      throw new MiddlewareError(`Type ${type} exists in middleware but is missing in Schema.`);\n    }\n    if (!utils.isMiddlewareFunction(middleware[type])) {\n      const fields = types[type].getFields();\n      Object.keys(middleware[type]).forEach(field => {\n        if (!Object.keys(fields).includes(field)) {\n          throw new MiddlewareError(`Field ${type}.${field} exists in middleware but is missing in Schema.`);\n        }\n        if (!utils.isMiddlewareFunction(middleware[type][field])) {\n          throw new MiddlewareError(`Expected ${type}.${field} to be a function but found ` + typeof middleware[type][field]);\n        }\n      });\n    }\n  });\n  return middleware;\n}\nclass MiddlewareError extends Error {}\nexports.MiddlewareError = MiddlewareError;\nexports.validateMiddleware = validateMiddleware;","map":{"version":3,"names":["Object","defineProperty","exports","value","utils","require","validateMiddleware","schema","middleware","isMiddlewareFunction","types","getTypeMap","keys","forEach","type","includes","MiddlewareError","fields","getFields","field","Error"],"sources":["/Users/pom/Code/serverless-ts-yarn-pnp/.yarn/__virtual__/graphql-middleware-virtual-8e3b5d6992/0/cache/graphql-middleware-npm-6.1.21-7377367d5a-e7172dbe7c.zip/node_modules/graphql-middleware/dist/validation.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nconst utils = require('./utils.js');\n\nfunction validateMiddleware(schema, middleware) {\n  if (utils.isMiddlewareFunction(middleware)) {\n    return middleware;\n  }\n  const types = schema.getTypeMap();\n  Object.keys(middleware).forEach((type) => {\n    if (!Object.keys(types).includes(type)) {\n      throw new MiddlewareError(`Type ${type} exists in middleware but is missing in Schema.`);\n    }\n    if (!utils.isMiddlewareFunction(middleware[type])) {\n      const fields = types[type].getFields();\n      Object.keys(middleware[type]).forEach((field) => {\n        if (!Object.keys(fields).includes(field)) {\n          throw new MiddlewareError(`Field ${type}.${field} exists in middleware but is missing in Schema.`);\n        }\n        if (!utils.isMiddlewareFunction(middleware[type][field])) {\n          throw new MiddlewareError(`Expected ${type}.${field} to be a function but found ` + typeof middleware[type][field]);\n        }\n      });\n    }\n  });\n  return middleware;\n}\nclass MiddlewareError extends Error {\n}\n\nexports.MiddlewareError = MiddlewareError;\nexports.validateMiddleware = validateMiddleware;\n"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAE7D,MAAMC,KAAK,GAAGC,OAAO,CAAC,YAAY,CAAC;AAEnC,SAASC,kBAAkBA,CAACC,MAAM,EAAEC,UAAU,EAAE;EAC9C,IAAIJ,KAAK,CAACK,oBAAoB,CAACD,UAAU,CAAC,EAAE;IAC1C,OAAOA,UAAU;EACnB;EACA,MAAME,KAAK,GAAGH,MAAM,CAACI,UAAU,CAAC,CAAC;EACjCX,MAAM,CAACY,IAAI,CAACJ,UAAU,CAAC,CAACK,OAAO,CAAEC,IAAI,IAAK;IACxC,IAAI,CAACd,MAAM,CAACY,IAAI,CAACF,KAAK,CAAC,CAACK,QAAQ,CAACD,IAAI,CAAC,EAAE;MACtC,MAAM,IAAIE,eAAe,CAAE,QAAOF,IAAK,iDAAgD,CAAC;IAC1F;IACA,IAAI,CAACV,KAAK,CAACK,oBAAoB,CAACD,UAAU,CAACM,IAAI,CAAC,CAAC,EAAE;MACjD,MAAMG,MAAM,GAAGP,KAAK,CAACI,IAAI,CAAC,CAACI,SAAS,CAAC,CAAC;MACtClB,MAAM,CAACY,IAAI,CAACJ,UAAU,CAACM,IAAI,CAAC,CAAC,CAACD,OAAO,CAAEM,KAAK,IAAK;QAC/C,IAAI,CAACnB,MAAM,CAACY,IAAI,CAACK,MAAM,CAAC,CAACF,QAAQ,CAACI,KAAK,CAAC,EAAE;UACxC,MAAM,IAAIH,eAAe,CAAE,SAAQF,IAAK,IAAGK,KAAM,iDAAgD,CAAC;QACpG;QACA,IAAI,CAACf,KAAK,CAACK,oBAAoB,CAACD,UAAU,CAACM,IAAI,CAAC,CAACK,KAAK,CAAC,CAAC,EAAE;UACxD,MAAM,IAAIH,eAAe,CAAE,YAAWF,IAAK,IAAGK,KAAM,8BAA6B,GAAG,OAAOX,UAAU,CAACM,IAAI,CAAC,CAACK,KAAK,CAAC,CAAC;QACrH;MACF,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EACF,OAAOX,UAAU;AACnB;AACA,MAAMQ,eAAe,SAASI,KAAK,CAAC;AAGpClB,OAAO,CAACc,eAAe,GAAGA,eAAe;AACzCd,OAAO,CAACI,kBAAkB,GAAGA,kBAAkB"},"metadata":{},"sourceType":"module"}
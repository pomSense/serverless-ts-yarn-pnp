{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _mixed = require(\"./mixed\");\nvar _mixed2 = _interopRequireDefault(_mixed);\nvar _inherits = require(\"./util/inherits\");\nvar _inherits2 = _interopRequireDefault(_inherits);\nvar _isodate = require(\"./util/isodate\");\nvar _isodate2 = _interopRequireDefault(_isodate);\nvar _locale = require(\"./locale\");\nvar _isAbsent = require(\"./util/isAbsent\");\nvar _isAbsent2 = _interopRequireDefault(_isAbsent);\nvar _Reference = require(\"./Reference\");\nvar _Reference2 = _interopRequireDefault(_Reference);\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar invalidDate = new Date('');\nvar isDate = function isDate(obj) {\n  return Object.prototype.toString.call(obj) === '[object Date]';\n};\nexports.default = DateSchema;\nfunction DateSchema() {\n  var _this = this;\n  if (!(this instanceof DateSchema)) return new DateSchema();\n  _mixed2.default.call(this, {\n    type: 'date'\n  });\n  this.withMutation(function () {\n    _this.transform(function (value) {\n      if (this.isType(value)) return value;\n      value = (0, _isodate2.default)(value); // 0 is a valid timestamp equivalent to 1970-01-01T00:00:00Z(unix epoch) or before.\n\n      return !isNaN(value) ? new Date(value) : invalidDate;\n    });\n  });\n}\n(0, _inherits2.default)(DateSchema, _mixed2.default, {\n  _typeCheck: function _typeCheck(v) {\n    return isDate(v) && !isNaN(v.getTime());\n  },\n  min: function min(_min, message) {\n    if (message === void 0) {\n      message = _locale.date.min;\n    }\n    var limit = _min;\n    if (!_Reference2.default.isRef(limit)) {\n      limit = this.cast(_min);\n      if (!this._typeCheck(limit)) throw new TypeError('`min` must be a Date or a value that can be `cast()` to a Date');\n    }\n    return this.test({\n      message: message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min: _min\n      },\n      test: function test(value) {\n        return (0, _isAbsent2.default)(value) || value >= this.resolve(limit);\n      }\n    });\n  },\n  max: function max(_max, message) {\n    if (message === void 0) {\n      message = _locale.date.max;\n    }\n    var limit = _max;\n    if (!_Reference2.default.isRef(limit)) {\n      limit = this.cast(_max);\n      if (!this._typeCheck(limit)) throw new TypeError('`max` must be a Date or a value that can be `cast()` to a Date');\n    }\n    return this.test({\n      message: message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max: _max\n      },\n      test: function test(value) {\n        return (0, _isAbsent2.default)(value) || value <= this.resolve(limit);\n      }\n    });\n  }\n});","map":{"version":3,"names":["_mixed","require","_mixed2","_interopRequireDefault","_inherits","_inherits2","_isodate","_isodate2","_locale","_isAbsent","_isAbsent2","_Reference","_Reference2","obj","__esModule","default","invalidDate","Date","isDate","Object","prototype","toString","call","exports","DateSchema","_this","MixedSchema","type","withMutation","transform","value","isType","isoParse","isNaN","inherits","_typeCheck","v","getTime","min","_min","message","locale","limit","Ref","isRef","cast","TypeError","test","name","exclusive","params","isAbsent","resolve","max","_max"],"sources":["/Users/pom/Code/serverless-ts-yarn-pnp/.yarn/cache/yup-npm-0.31.1-e4cae13a77-79bf28d6af.zip/node_modules/yup/es/date.js"],"sourcesContent":["import MixedSchema from './mixed';\nimport inherits from './util/inherits';\nimport isoParse from './util/isodate';\nimport { date as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport Ref from './Reference';\nvar invalidDate = new Date('');\n\nvar isDate = function isDate(obj) {\n  return Object.prototype.toString.call(obj) === '[object Date]';\n};\n\nexport default DateSchema;\n\nfunction DateSchema() {\n  var _this = this;\n\n  if (!(this instanceof DateSchema)) return new DateSchema();\n  MixedSchema.call(this, {\n    type: 'date'\n  });\n  this.withMutation(function () {\n    _this.transform(function (value) {\n      if (this.isType(value)) return value;\n      value = isoParse(value); // 0 is a valid timestamp equivalent to 1970-01-01T00:00:00Z(unix epoch) or before.\n\n      return !isNaN(value) ? new Date(value) : invalidDate;\n    });\n  });\n}\n\ninherits(DateSchema, MixedSchema, {\n  _typeCheck: function _typeCheck(v) {\n    return isDate(v) && !isNaN(v.getTime());\n  },\n  min: function min(_min, message) {\n    if (message === void 0) {\n      message = locale.min;\n    }\n\n    var limit = _min;\n\n    if (!Ref.isRef(limit)) {\n      limit = this.cast(_min);\n      if (!this._typeCheck(limit)) throw new TypeError('`min` must be a Date or a value that can be `cast()` to a Date');\n    }\n\n    return this.test({\n      message: message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min: _min\n      },\n      test: function test(value) {\n        return isAbsent(value) || value >= this.resolve(limit);\n      }\n    });\n  },\n  max: function max(_max, message) {\n    if (message === void 0) {\n      message = locale.max;\n    }\n\n    var limit = _max;\n\n    if (!Ref.isRef(limit)) {\n      limit = this.cast(_max);\n      if (!this._typeCheck(limit)) throw new TypeError('`max` must be a Date or a value that can be `cast()` to a Date');\n    }\n\n    return this.test({\n      message: message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max: _max\n      },\n      test: function test(value) {\n        return isAbsent(value) || value <= this.resolve(limit);\n      }\n    });\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = undefined && undefined.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.didYouMean = exports.suggestionList = void 0;\nconst js_levenshtein_1 = __importDefault(require(\"js-levenshtein\"));\nconst utils_1 = require(\"./utils\");\nfunction suggestionList(input, options) {\n  const optionsByDistance = new Map();\n  const threshold = Math.floor(input.length * 0.4) + 1;\n  const inputLowerCase = input.toLowerCase();\n  for (const option of options) {\n    const distance = inputLowerCase === option.toLowerCase() ? 1 : (0, js_levenshtein_1.default)(input, option);\n    if (distance <= threshold) {\n      optionsByDistance.set(option, distance);\n    }\n  }\n  return (0, utils_1.mapKeys)(optionsByDistance).sort((a, b) => {\n    const distanceDiff = optionsByDistance.get(a) - optionsByDistance.get(b);\n    return distanceDiff !== 0 ? distanceDiff : a.localeCompare(b);\n  });\n}\nexports.suggestionList = suggestionList;\nconst MAX_SUGGESTIONS = 5;\nfunction didYouMean(suggestions) {\n  const message = ' Did you mean ';\n  const quotedSuggestions = suggestions.map(x => `\"${x}\"`);\n  switch (suggestions.length) {\n    case 0:\n      return '';\n    case 1:\n      return message + quotedSuggestions[0] + '?';\n    case 2:\n      return message + quotedSuggestions[0] + ' or ' + quotedSuggestions[1] + '?';\n  }\n  const selected = quotedSuggestions.slice(0, MAX_SUGGESTIONS);\n  const lastItem = selected.pop();\n  return message + selected.join(', ') + ', or ' + lastItem + '?';\n}\nexports.didYouMean = didYouMean;","map":{"version":3,"mappings":";;;;;;;;;;;AAAA,MAAAA,gBAAA,GAAAC,eAAA,CAAAC,OAAA;AACA,MAAAC,OAAA,GAAAD,OAAA;AAMA,SAAgBE,cAAcA,CAACC,KAAa,EAAEC,OAA0B;EACtE,MAAMC,iBAAiB,GAAG,IAAIC,GAAG,EAAkB;EAEnD,MAAMC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACN,KAAK,CAACO,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC;EACpD,MAAMC,cAAc,GAAGR,KAAK,CAACS,WAAW,EAAE;EAC1C,KAAK,MAAMC,MAAM,IAAIT,OAAO,EAAE;IAG5B,MAAMU,QAAQ,GAAGH,cAAc,KAAKE,MAAM,CAACD,WAAW,EAAE,GACpD,CAAC,GACD,IAAAd,gBAAA,CAAAiB,OAAW,EAACZ,KAAK,EAAEU,MAAM,CAAC;IAC9B,IAAIC,QAAQ,IAAIP,SAAS,EAAE;MACzBF,iBAAiB,CAACW,GAAG,CAACH,MAAM,EAAEC,QAAQ,CAAC;;;EAI3C,OAAO,IAAAb,OAAA,CAAAgB,OAAO,EAACZ,iBAAiB,CAAC,CAACa,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAI;IAC9C,MAAMC,YAAY,GAAGhB,iBAAiB,CAACiB,GAAG,CAACH,CAAC,CAAE,GAAGd,iBAAiB,CAACiB,GAAG,CAACF,CAAC,CAAE;IAC1E,OAAOC,YAAY,KAAK,CAAC,GAAGA,YAAY,GAAGF,CAAC,CAACI,aAAa,CAACH,CAAC,CAAC;EAC/D,CAAC,CAAC;AACJ;AApBAI,OAAA,CAAAtB,cAAA,GAAAA,cAAA;AAsBA,MAAMuB,eAAe,GAAG,CAAC;AAKzB,SAAgBC,UAAUA,CAACC,WAA8B;EACvD,MAAMC,OAAO,GAAG,gBAAgB;EAEhC,MAAMC,iBAAiB,GAAGF,WAAW,CAACG,GAAG,CAAEC,CAAC,IAAK,IAAIA,CAAC,GAAG,CAAC;EAC1D,QAAQJ,WAAW,CAACjB,MAAM;IACxB,KAAK,CAAC;MACJ,OAAO,EAAE;IACX,KAAK,CAAC;MACJ,OAAOkB,OAAO,GAAGC,iBAAiB,CAAC,CAAC,CAAC,GAAG,GAAG;IAC7C,KAAK,CAAC;MACJ,OAAOD,OAAO,GAAGC,iBAAiB,CAAC,CAAC,CAAC,GAAG,MAAM,GAAGA,iBAAiB,CAAC,CAAC,CAAC,GAAG,GAAG;;EAG/E,MAAMG,QAAQ,GAAGH,iBAAiB,CAACI,KAAK,CAAC,CAAC,EAAER,eAAe,CAAC;EAC5D,MAAMS,QAAQ,GAAGF,QAAQ,CAACG,GAAG,EAAE;EAC/B,OAAOP,OAAO,GAAGI,QAAQ,CAACI,IAAI,CAAC,IAAI,CAAC,GAAG,OAAO,GAAGF,QAAQ,GAAG,GAAG;AACjE;AAhBAV,OAAA,CAAAE,UAAA,GAAAA,UAAA","names":["js_levenshtein_1","__importDefault","require","utils_1","suggestionList","input","options","optionsByDistance","Map","threshold","Math","floor","length","inputLowerCase","toLowerCase","option","distance","default","set","mapKeys","sort","a","b","distanceDiff","get","localeCompare","exports","MAX_SUGGESTIONS","didYouMean","suggestions","message","quotedSuggestions","map","x","selected","slice","lastItem","pop","join"],"sourceRoot":"","sources":["../src/suggestions.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}
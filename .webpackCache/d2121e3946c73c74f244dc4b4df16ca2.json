{"ast":null,"code":"/*!\n * depd\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n */\nmodule.exports = callSiteToString;\n\n/**\n * Format a CallSite file location to a string.\n */\n\nfunction callSiteFileLocation(callSite) {\n  var fileName;\n  var fileLocation = '';\n  if (callSite.isNative()) {\n    fileLocation = 'native';\n  } else if (callSite.isEval()) {\n    fileName = callSite.getScriptNameOrSourceURL();\n    if (!fileName) {\n      fileLocation = callSite.getEvalOrigin();\n    }\n  } else {\n    fileName = callSite.getFileName();\n  }\n  if (fileName) {\n    fileLocation += fileName;\n    var lineNumber = callSite.getLineNumber();\n    if (lineNumber != null) {\n      fileLocation += ':' + lineNumber;\n      var columnNumber = callSite.getColumnNumber();\n      if (columnNumber) {\n        fileLocation += ':' + columnNumber;\n      }\n    }\n  }\n  return fileLocation || 'unknown source';\n}\n\n/**\n * Format a CallSite to a string.\n */\n\nfunction callSiteToString(callSite) {\n  var addSuffix = true;\n  var fileLocation = callSiteFileLocation(callSite);\n  var functionName = callSite.getFunctionName();\n  var isConstructor = callSite.isConstructor();\n  var isMethodCall = !(callSite.isToplevel() || isConstructor);\n  var line = '';\n  if (isMethodCall) {\n    var methodName = callSite.getMethodName();\n    var typeName = getConstructorName(callSite);\n    if (functionName) {\n      if (typeName && functionName.indexOf(typeName) !== 0) {\n        line += typeName + '.';\n      }\n      line += functionName;\n      if (methodName && functionName.lastIndexOf('.' + methodName) !== functionName.length - methodName.length - 1) {\n        line += ' [as ' + methodName + ']';\n      }\n    } else {\n      line += typeName + '.' + (methodName || '<anonymous>');\n    }\n  } else if (isConstructor) {\n    line += 'new ' + (functionName || '<anonymous>');\n  } else if (functionName) {\n    line += functionName;\n  } else {\n    addSuffix = false;\n    line += fileLocation;\n  }\n  if (addSuffix) {\n    line += ' (' + fileLocation + ')';\n  }\n  return line;\n}\n\n/**\n * Get constructor name of reviver.\n */\n\nfunction getConstructorName(obj) {\n  var receiver = obj.receiver;\n  return receiver.constructor && receiver.constructor.name || null;\n}","map":{"version":3,"names":["module","exports","callSiteToString","callSiteFileLocation","callSite","fileName","fileLocation","isNative","isEval","getScriptNameOrSourceURL","getEvalOrigin","getFileName","lineNumber","getLineNumber","columnNumber","getColumnNumber","addSuffix","functionName","getFunctionName","isConstructor","isMethodCall","isToplevel","line","methodName","getMethodName","typeName","getConstructorName","indexOf","lastIndexOf","length","obj","receiver","constructor","name"],"sources":["/Users/pom/Code/serverless-ts-yarn-pnp/.yarn/cache/depd-npm-1.1.2-b0c8414da7-6b406620d2.zip/node_modules/depd/lib/compat/callsite-tostring.js"],"sourcesContent":["/*!\n * depd\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n */\n\nmodule.exports = callSiteToString\n\n/**\n * Format a CallSite file location to a string.\n */\n\nfunction callSiteFileLocation (callSite) {\n  var fileName\n  var fileLocation = ''\n\n  if (callSite.isNative()) {\n    fileLocation = 'native'\n  } else if (callSite.isEval()) {\n    fileName = callSite.getScriptNameOrSourceURL()\n    if (!fileName) {\n      fileLocation = callSite.getEvalOrigin()\n    }\n  } else {\n    fileName = callSite.getFileName()\n  }\n\n  if (fileName) {\n    fileLocation += fileName\n\n    var lineNumber = callSite.getLineNumber()\n    if (lineNumber != null) {\n      fileLocation += ':' + lineNumber\n\n      var columnNumber = callSite.getColumnNumber()\n      if (columnNumber) {\n        fileLocation += ':' + columnNumber\n      }\n    }\n  }\n\n  return fileLocation || 'unknown source'\n}\n\n/**\n * Format a CallSite to a string.\n */\n\nfunction callSiteToString (callSite) {\n  var addSuffix = true\n  var fileLocation = callSiteFileLocation(callSite)\n  var functionName = callSite.getFunctionName()\n  var isConstructor = callSite.isConstructor()\n  var isMethodCall = !(callSite.isToplevel() || isConstructor)\n  var line = ''\n\n  if (isMethodCall) {\n    var methodName = callSite.getMethodName()\n    var typeName = getConstructorName(callSite)\n\n    if (functionName) {\n      if (typeName && functionName.indexOf(typeName) !== 0) {\n        line += typeName + '.'\n      }\n\n      line += functionName\n\n      if (methodName && functionName.lastIndexOf('.' + methodName) !== functionName.length - methodName.length - 1) {\n        line += ' [as ' + methodName + ']'\n      }\n    } else {\n      line += typeName + '.' + (methodName || '<anonymous>')\n    }\n  } else if (isConstructor) {\n    line += 'new ' + (functionName || '<anonymous>')\n  } else if (functionName) {\n    line += functionName\n  } else {\n    addSuffix = false\n    line += fileLocation\n  }\n\n  if (addSuffix) {\n    line += ' (' + fileLocation + ')'\n  }\n\n  return line\n}\n\n/**\n * Get constructor name of reviver.\n */\n\nfunction getConstructorName (obj) {\n  var receiver = obj.receiver\n  return (receiver.constructor && receiver.constructor.name) || null\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}